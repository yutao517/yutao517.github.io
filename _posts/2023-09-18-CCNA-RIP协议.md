---
layout: article
title: CCNA-RIP协议
tags: 计算机网络
category: blog
date: 2023-09-18 00:00:00 +08:00
mermaid: true
---
**动态路由协议**
- 距离矢量协议(distance vector)主要有：RIP IGRP BGP
- 链路状态协议(Link state)有：OSPF IS-IS
- 混合型(hybrid)有：EIGRP

**DV路由协议的特征**
- 采用周期性的完全更新(发送整个路由表)和触发
更新结合的路由更新方式（RIPV1没有触发更新，RIPV2才有触发更新的）
- 采用广播方式进行路由更新（RTPV2采用的是组播）
- DV的路由协议有RIPV1, RIPv2,IGRP
- EIGRP和BGP属于高级的DV协议，他们学习路径的方式更多的趋近于DV，但是他们具备很多的**LS特征**（比如触发更新，组播更新等）

**距离矢量协议**-- RIP EIGRP BGP：依照传闻选择路径 ，传递路由表，自己路由表发给你直接用，如果自己的路由表本身就是错的就会都错。
**链路状态协议**-- OSPF ISIS：传递的链路状态信息，自己判断

**实用性协议排名**：
1. EIGRP
2. OSPF
3. BGP

IGP---RIP EIGRP OSPF 通常用在企业内部
EGP--BGP EGP  ISIS 通常用在运营商和数据中心之间

**为什么用动态路由协议**
1. 方便更新 不需要手动配置
2. 冗余备份

RIP协议中---没有邻居关系的概念---没有hello包检测
RIP协议---周期更新---30s更新一次，收到条目设置一个180s的死亡倒计时，down掉，60s之后删除该路由条目

**路由器选择路径**

1. 管理距离---不同方向接收到不同路由协议固定的数值
2. 度量值--跳数


**环路**：从一个接口收到的数据又从这个接口发出去，来回反复。

水平分割：从一个接口收到的数据不会从这个接口发出去

毒性逆转的水平分割：从一个接口收到的数据会从这个接口发出去。但是将这条路由标记为16跳，然后不可达。


**解决环路的办法**
- 水平分割
- 毒性逆转
- 触发更新
- 最大跳数


**RIP缺点**
- 周期更新，浪费带宽
- 计量标准，以跳数为标准不准确
- 收敛速度，缓慢

**收敛时间**：网络拓扑发生变化到网络中所有路由器知道这个变化的时间。

RIPV1没有触发更新，RIPV2才有触发更新的


```bash
router rip
version 2
no auto summary 关闭自动汇总网段，自动汇总会导致黑洞
network 192.168.1.0 宣告网段

```

**RIPV1和RIPV2区别**

1.RIPv1是有类 路由协议,RIPv2是 无类路由协议 2.RIPv1不能支持VLSM,RIPv2可以支持VLSM 3.RIPv1没有认证的功能,RIPv2可以支持认证,并且有明文和MD5两种认证 4.RIPv1没有手工汇总的功能,RIPv2可以在关闭自动汇总的前提下,进行手工汇总 5.RIPv1是广播更新,RIPv2是组播更新。
